'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
exports.createAbout = void 0;
const os = require('os');
const pk = require('../package.json');
const aboutJson = JSON.stringify({
    hostname: os.hostname(),
    type: pk.name,
    version: pk.version,
    description: pk.description,
    startDate: new Date().toISOString()
});
const sendAbout = (req, res, next) => {
    res.header('Content-Type', 'application/json; charset=UTF-8');
    res.end(aboutJson);
    next();
};
const createAbout = (prefix, server) => {
    server.get('/about', sendAbout);
    server.get(`${prefix}/about`, sendAbout);
};
exports.createAbout = createAbout;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJvdXQucm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Fib3V0LnJvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7OztBQUViLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUV0QyxNQUFNLFNBQVMsR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLFFBQVEsRUFBRSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ3ZCLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSTtJQUNiLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTztJQUNuQixXQUFXLEVBQUUsRUFBRSxDQUFDLFdBQVc7SUFDM0IsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO0NBQ3BDLENBQUMsQ0FBQztBQUVILE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRTtJQUNuQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxpQ0FBaUMsQ0FBQyxDQUFDO0lBQzlELEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDbkIsSUFBSSxFQUFFLENBQUM7QUFDVCxDQUFDLENBQUM7QUFFSyxNQUFNLFdBQVcsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsRUFBRTtJQUM1QyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNoQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDM0MsQ0FBQyxDQUFDO0FBSFcsUUFBQSxXQUFXLGVBR3RCIn0=